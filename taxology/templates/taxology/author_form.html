{% extends "taxologybase.html" %}
{% block content %}
{% load django_bootstrap5 %}
<h4 class="bd-title p-2 bg-secondary text-light">{{op}} Author</h4>
<div class="container">
<form action="" method="post">
    {% csrf_token %}
    <table class="table table-striped table-sm">
    {{ form }}
    {{ form.media.js }}
    </table>
    <div class="container text-center">
        <button class="btn btn-primary btn-lg" type="submit" onclick="return check_primary()">Save</button>
    </div>
</form>
</div>
<script>
    var redirect_to = document.getElementById('id_redirect_to');
    redirect_to.addEventListener('change', uncheck_primary)

    function uncheck_primary(e){
        var is_primary = document.getElementById('id_is_primary');
        is_primary.checked=false;
    }
    function check_primary(){
        var redirect_to = document.getElementById('id_redirect_to');
        var is_primary = document.getElementById('id_is_primary');
        if( redirect_to.value != '' && is_primary.checked ) {
            confirm_result = alert('Redirect to 가 설정되어 있습니다. Is primary 를 해제합니다.')
            is_primary.checked = false;
        }
        return true;
    }
</script>
{% endblock %}
